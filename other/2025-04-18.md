# Причина закрытия WebSocket соединения

Если вы работали с WebSocket без каких либо обёрток, возможно вы обратили внимание, что метод `close` может принимать два параметра: код и причину закрытия. А `CloseEvent`, в свою очередь, оба эти значения может содержать.

```javascript
const socket = new WebSocket(url);

socket.onclose = (event) => {
  console.log(event.reason);
};

socket.close(1000, 'Reason');
```

Однако, этот код не гарантирует что в логе будет `Reason`! А всё потому, что при вызове метода `close`, сначала отправляется соответствующая команда на сервер, который кстати может и не ответить. Но даже если он ответил, нет гарантий что он вернёт нам эту же причину.

В общем, `CloseEvent.reason` — причина закрытия с сервера, поэтому там может быть всё что угодно.

П.С. Есть ещё `CloseEvent.wasClean`, по которому можно понять было ли соединение закрыто “чисто” или что-то пошло не так.
