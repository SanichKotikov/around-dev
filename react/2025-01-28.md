# Batching –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ React –∏ SolidJS

Batching ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –æ–¥–Ω–æ, –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ "–æ—Ç—Ä–∏—Å–æ–≤–æ–∫" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ï—Å–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ, –≤ React –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π, –∞ –≤–æ—Ç –≤ SolidJS —Ä—É—á–Ω–æ–π. –ù–æ –≤ —Å–ª—É—á–∞–µ React –µ—Å—Ç—å –Ω—é–∞–Ω—Å—ã, –∫—É–¥–∞ –∂–µ –±–µ–∑ –Ω–∏—Ö. üòÖ

## React

```jsx
function Comp() {
  const [first, setFirst] = useState();
  const [second, setSecond] = useState();

  function handleClick() {
    setFirst(...);
    setSecond(...);
  }

  return <>...</>;
}
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –≤ React –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

- –í —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ —Å–æ–±—ã—Ç–∏—è;
- –í –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è v18+ —Å `createRoot`).

–í–æ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –Ω–µ –±—É–¥–µ—Ç. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ 18 –≤–µ—Ä—Å–∏—é (–∏ createRoot), –≤ –±–æ–ª—å—à–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–µ–∞–ª—å–Ω–æ —Å–ª–æ–≤–∏—Ç—å –±–∞–≥–∏ –≤ —Å–∞–º—ã—Ö –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö, —Ç.–∫. –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –±–ª–æ–∫–∞—Ö —Ç–µ–ø–µ—Ä—å –±—É–¥—É—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å—Å—è, —á–µ–≥–æ –Ω–µ –±—ã–ª–æ –≤ 17 –≤–µ—Ä—Å–∏–∏ –∏ –Ω–∏–∂–µ.

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –∫–∞–∫–æ–µ-—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `flushSync` –∏–∑ –ø–∞–∫–µ—Ç–∞ react-dom, –≤–º–µ—Å—Ç–æ –Ω—É–ª–µ–≤–æ–≥–æ `setTimeout`.

–ï—Å–ª–∏ —Å–æ–≤—Å–µ–º –ø–æ–¥—Ä–æ–±–Ω–æ, —Ç–æ –≤–æ—Ç —Ç—É—Ç –≤—Å—ë –æ–ø–∏—Å–∞–Ω–æ: [Automatic batching for fewer renders in React 18](https://github.com/reactwg/react-18/discussions/21)

## SolidJS

```jsx
function Comp() {
  const [first, setFirst] = createSignal();
  const [second, setSecond] = createSignal();

  function handleClick() {
    batch(() => {
      setFirst(...);
      setSecond(...);
    });
  }

  return <>...</>;
}
```

–í SolidJS –≤—ã —Å–∞–º–∏ —Ä–µ—à–∞–µ—Ç–µ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —É—Ç–∏–ª–∏—Ç—É `batch`. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë, –Ω–∞–≤–µ—Ä–Ω–æ–µ, –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –æ—Ç –æ–±–Ω–æ–≤–ª—è–µ–º—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ (—Å–æ—Å—Ç–æ—è–Ω–∏—è) –∑–∞–≤–∏—Å–∏—Ç –∫–∞–∫–æ–µ-—Ç–æ –¥–æ—Ä–æ–≥–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—Å—è –±–µ–∑ –Ω–µ—ë.
