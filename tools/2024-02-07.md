# Разделение кода: Webpack против Vite

Рассмотрим реальный пример **production кода** (после сборки):

`app.js` — основной код приложения;  
`client.js` — страница работы с клиентом;  
`subscription.js` — всплывающее окно подписки клиента (открывается со страницы клиента).

Приложение загружается всегда, а вот страница и модальное окно асинхронно (по требованию) отдельными файлами.

Соберём исходный код проекта с помощью **Webpack** и **Vite**, с настройками по умолчанию, и сравним результаты сборки после внесения изменений в код модального окна (subscription.js).

### Webpack

Изменения будут только в двух файлах, `subscription.js` (очевидно) и `app.js`, потому что там находится карта всех чанков. Примечание: если у вас включен **runtime chunk**, то вместо app.js изменённая карта будет в нём. Подробнее про карту и **runtime** я [писал ранее](./2024-02-06.md).

### Vite

Изменения будут во всей цепочке: в `subscription.js` (очевидно), в `client.js` потому что именно из него открывается модальное окно, и в `app.js` потому что из него открывается страница. Так происходит, потому что Vite использует стандартный [JavaScript modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules) и прописывает путь и название файла непосредственно в то место где оно используется.
